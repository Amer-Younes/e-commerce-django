{% extends 'partials/base.html' %}
{% load static %}




{% block content %}



<main class="main pages">
    <div class="page-header breadcrumb-wrap">
        <div class="container">
            <div class="breadcrumb">
                <a href="index.html" rel="nofollow"><i class="fi-rs-home mr-5"></i>Home</a>
                <span></span> Pages <span></span> My Account
            </div>
        </div>
    </div>
    <div class="page-content pt-150 pb-150">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 m-auto">
                    <div class="row">
                        <div class="col-md-3">
                            <div class="dashboard-menu">
                                <ul class="nav flex-column" role="tablist">
                                    <li class="nav-item">
                                        <a class="nav-link active" id="profile-tab" data-bs-toggle="tab"
                                            href="#profile" role="tab" aria-controls="profile"
                                            aria-selected="false"><i
                                                class="fi-rs-user mr-10"></i>Profile</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="page-login.html"><i
                                                class="fi-rs-sign-out mr-10"></i>Logout</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-md-9">
                            <div class="tab-content account dashboard-content pl-50">
                                <div class="tab-pane fade active show" id="profile" role="tabpanel" aria-labelledby="profile-tab">
                                    <div class="card shadow-sm border-0">
                                        <div class="card-header border-bottom text-white text-center py-3">
                                            <h3 class="mb-0">Edit Profile</h3>
                                        </div>
                                        <div class="card-body">
                                            <form method="POST" enctype="multipart/form-data">
                                                {% csrf_token %}
                                    
                                                <!-- Profile Image Upload -->
                                                <div class="text-center mb-4">
                                                    <label for="id_image" class="d-block">
                                                        {% if profile.image %}
                                                            <img id="imagePreview" src="{{ profile.image.url }}" class="rounded-circle border p-2 shadow-sm" alt="Profile Image" width="120" height="120">
                                                        {% else %}
                                                            <img id="imagePreview" src="https://img.freepik.com/free-vector/illustration-businessman_53876-5856.jpg?w=740" class="rounded-circle border p-2 shadow-sm" alt="Profile Image" width="120" height="120">
                                                        {% endif %}
                                                    </label>
                                                    {{ form.image }}
                                                </div>
                                    
                                                <!-- Name Field -->
                                                <div class="mb-3">
                                                    <label class="form-label fw-bold">Full Name</label>
                                                    {{ form.full_name }}
                                                </div>
                                    
                                                <!-- Phone Field -->
                                                <div class="mb-3">
                                                    <label class="form-label fw-bold">Phone</label>
                                                    {{ form.phone }}
                                                </div>
                                    
                                                <!-- Bio Field -->
                                                <div class="mb-3">
                                                    <label class="form-label fw-bold">Bio</label>
                                                    {{ form.bio }}
                                                </div>
                                    
                                                <!-- Submit Button -->
                                                <div class="text-center mt-4">
                                                    <button type="submit" class="btn btn-primary shadow-sm">
                                                        <i class="fas fa-save"></i> Save Changes
                                                    </button>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                    

                                    
                                    

                                    
                                </div >

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<!-- Image Preview Script -->
<script>
    document.getElementById("id_image").addEventListener("change", function(event) {
        let reader = new FileReader();
        reader.onload = function(){
            document.getElementById("imagePreview").src = reader.result;
        };
        reader.readAsDataURL(event.target.files[0]);
    });
    </script>

{% endblock content %}